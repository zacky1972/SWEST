<!DOCTYPE html><head><meta charset="UTF-8"><title>s2a_minute</title></head><body><p>
**********************************************************************
<br/>
セッションS2-a 
<br/>
テーマ	：次世代ロボットフレームワークROS2の紹介［ESS2018企画セッション］
<br/>
講師	：Geoffrey Biggs
<br/>
日時	：2018/8/31 9:00～10:10
<br/>
参加人数：48名（開始時）
<br/>
**********************************************************************
<br/>

<br/>
・アジェンダ
<br/>
	○なぜROSが存在するのか
<br/>
	○ROS1について
<br/>
	○ROS2について
<br/>
	○ROS 1とROS2の違い
<br/>
	○これからのROS2
<br/>
	○まとめ
<br/>

<br/>
	ロボットもROSもわからない人のためになぜROSが存在するか
<br/>
	についてから話します。
<br/>

<br/>
<なぜROSが存在するのか>
<br/>
　ロボットソフトウェアを開発するには様々な障害が存在する。
<br/>
　そのために開発者はロボットソフトウェアフレームワークを利用する。
<br/>
　ロボットソフトウェアは分散が可能でリアルタイム性が重要視される。
<br/>
　ロボットソフトウェアフレームワークは２０年前からオープンソースであることが
<br/>
　大事だと言われている。
<br/>

<br/>
・ロボットソフトウェアの歴史
<br/>
　初期段階ではソフトウェアは完全にカスタムであった。
<br/>
　自分で研究する際に開発企業のカスタマイズに縛られるため非常に自由度が少なかっ
<br/>
　た。それを解決するためにPlayerを開発しました。
<br/>
　Unixの考え方を導入し非常に自由にカスタマイズできるようになった。
<br/>
　数年以内に爆発的に人気になり、ロボット世界ではPlayerを使ってないと馬鹿にされ
<br/>
　るレベルだった。
<br/>

<br/>
・ROSの登場
<br/>
　Playerの開発者が2007年にROSを開発した。ROSはどんどん大きくなっていっている。
<br/>
　ROSは1つのことに特化しているわけではなく色々なことができるのが特徴である。
<br/>
　シュミレーターのおかげで研究が進みやすくなった。
<br/>
　そこからツールも爆発的に開発されていった。ROSのメインシュミレーターはarenaか
<br/>
　らきた。
<br/>

<br/>

<br/>
<ROS1について>
<br/>
・ROS
<br/>
　ROSの目的はロボットを作るためのフレームワークだけでなくオペレーティングシステ
<br/>
　ムである。
<br/>
　ROSの考えはフレームワークだけでなくプラットフォーム全体を示す。
<br/>

<br/>

<br/>
・使用例
<br/>
　ROSは走行用ロボットや自動運転、さらにナビゲーションシステムなどに利用
<br/>
　されている。
<br/>
　他にアメリカではホテル内でのロボットが人気になった。
<br/>
　特徴としてみんな同じROSの機能を利用することできる。
<br/>

<br/>
・コミュニティ
<br/>
　コミュニティとしてROSConが存在し、２０１２年から毎年行われている。
<br/>
　ROSConのコミュニティは爆発的に大きくなっていっている。
<br/>
　中国のサマーキャンプに3百人が参加していた。
<br/>

<br/>
・日本でのROSの人気
<br/>
　日本では昔ランキングに入らないほど使用者が少なかったが、一気に人気になり世界
<br/>
　３位になった。
<br/>

<br/>
・なぜROSがこれほど利用されているのか
<br/>
　ロボット開発にツールは必須とされており
<br/>
　その中でROSはオープンで公開されており、多くのツールが含まれているので人気が出
<br/>
　た。
<br/>

<br/>
・デバッグ作業
<br/>
　ロボットだと数値の羅列になり、データが大量なためデバッグが不可能である。
<br/>
　そのため可視化が必要でROS内のツールを用いることでロボットの考えていることなど
<br/>
　も可視化可能になった。
<br/>

<br/>

<br/>
<ROS2について>
<br/>
・なぜもうROS2？
<br/>
　日本で人気になってから数年だがROS1が登場してから10年経っている。
<br/>

<br/>
・コンポーネント間の通信を活動の中心に
<br/>
　それ以外はポ—ティングと改善が行われている。
<br/>
　イメージとしては家は変わってないけど基礎が変わったからできることは変わった。
<br/>

<br/>
・ROS1での問題
<br/>
　リアルタイムと非リアルタイムの混合やCPUやメモリの少ないマイコンでは利用できな
<br/>
　いなどの問題があった。
<br/>
　また企業にとっての問題としてはリアルタイムが難しいやUbuntuではないと使いにく
<br/>
　い、組み込みシステムは不可能などが挙げられる。
<br/>
　ROS2ではこれらの問題を解決した。
<br/>

<br/>

<br/>
<二つの違い>
<br/>
・ROS1の構造の特徴
<br/>
　Masterが落ちるとアプリケーションが終わる。
<br/>
　自家製のプロトコルなのでできないことが多い。
<br/>

<br/>
・ROS２の構造
<br/>
　Masterがない。
<br/>
　ノードがシステムのニーズに合わせて別々のプロセスでも
<br/>
　同一プロセスでも実行可能。
<br/>
　DDSを採用した。
<br/>

<br/>
・DDS
<br/>
　信頼性が高いプロトコルで出力されたデータはチャネルに入る。
<br/>
　OMGの標準規格であり安全認証版のためROS1と違い安全性を自分で証明する
<br/>
　必要がない。
<br/>

<br/>
・QoS設定
<br/>
　ROS1ではチューニングすることができなかったがROS2では細かいチューニングが可能
<br/>
　である。
<br/>

<br/>
・Masterの排除
<br/>
　必要になるときに場所がわかる。
<br/>

<br/>
・サイクルの違い
<br/>
　ROS1ではノードの実行は管理できない。
<br/>
　ROS2ではノードの実行は管理可能であり決定的実行が可能になった。
<br/>

<br/>
・リアルタイム可能
<br/>
　全システムがリソースを獲得し実行可能なときに実行できる。
<br/>

<br/>
・組み込みROS
<br/>
　OSなしでの小さいマイコンでROS2を使った。
<br/>

<br/>
・開発プロセス
<br/>
　ROS1では追加したい機能次々に追加していった。
<br/>
　ROS2ではアジャイル開発を行いかんばん方式により管理を行った。
<br/>

<br/>
・認証可能なROSへ
<br/>
　セキュリティは基礎からサポートがある。
<br/>
　DDS-security企画に合格
<br/>

<br/>
・ROS1とインタラクション
<br/>
　ブリッジによりROS1のシステムとROS2のシステムが通信可能に
<br/>

<br/>
<これからのROS2>
<br/>
・利用が加速
<br/>
　Rosconの発表の半分はRos2であり企業が利用している。
<br/>

<br/>
・リリースサイクルは半年
<br/>
　次は12月17日にリリース予定である。
<br/>

<br/>
・実装予定
<br/>
　アクションの実装
<br/>

<br/>
・開発に参加可能
<br/>
　Waffle.io/ros2/ros2
<br/>

<br/>
・Rosのチュートリアル
<br/>
　https://gbiggs.github.io/rosjp_ros2_intro/
<br/>

<br/>

<br/>
<質疑応答>
<br/>

<br/>
・安積(埼玉大学)
<br/>
<質問1>
<br/>
　DDSには種類がいくつかあるがどれを選べばいいのか？
<br/>
　RTIがいいと聞くが違いは？
<br/>

<br/>
<回答1>
<br/>
　RTIは経歴が長く信頼性が高い
<br/>
　OpenSpliceも人気が高い
<br/>
　この二つならそこまで差がない
<br/>
　両方無料でダウンロードして試せるので実際に試した好きな方を使ったらいい
<br/>

<br/>
　開発で差が出るのはサポート
<br/>
　問題が起きた時にどのくらい早く対応してくれるのか
<br/>
　OpenSpliceはわからないがRTIのサービスは良い
<br/>
　企業用ではなくオープンソースならFastRTPSでもよい
<br/>
　QOS管理とかが大事であればRTIやOpenSpliceがいい
<br/>

<br/>
<質問2>
<br/>
　複数のDDSが混在したときサポートしているQOSが違ったらどうしたらいいのか？
<br/>

<br/>
<回答2>
<br/>
　基本的にROS2としては同一に扱っている
<br/>
　しかしRTI,OpenSplice,FastRTPS以外ではすぐに使えず自分で処理する必要があり問題
<br/>
　になる
<br/>
　RTIだと細かくチューニングできる
<br/>

<br/>

<br/>
・菅谷(芝浦工大)
<br/>
<質問１>
<br/>
　リアルタイムOSの上でROS2動かした場合どのくらいのリアルタイム性が実現できるの
<br/>
　か？Qnx以外で既に使えることが確認できているRTOSがあれば教えて欲しい
<br/>

<br/>
<回答１>
<br/>
　実験ではより小さくできた
<br/>
　Unix以外ではデータを見ていないのでどこまでできるか分からない
<br/>
　Qnxは他の人が試しているらしい
<br/>
　日本のルネサスという会社が詳しい
<br/>

<br/>

<br/>
<質問２>
<br/>
　RTフレームというのはリアルタイムのプレエプションといったリアルタイム拡張のOS
<br/>
　といった理解でよろしいでしょうか
<br/>

<br/>
<回答２>
<br/>
　RT Preemptというのはカーネルのパッチ
<br/>
　ロックの変更をするパッチでリアルタイムもできるようになる
<br/>
　ただサポートはちょっと微妙
<br/>
　Ubuntuで使いにくいなどの問題がある
<br/>

<br/>

<br/>
・質問者（匿名）
<br/>
　アクティベイティング状態の時に非リアルタイムノードを実行してしまって
<br/>
　アクティブ状態になった時に実行するとのことですが
<br/>
　そういう風に書くっていうのは設計者に任せるのか？
<br/>

<br/>
<回答>
<br/>
　そうです
<br/>
　ノードの設計者次第です
<br/>

<br/>

<br/>
・質問者（匿名）
<br/>
　ROSの考え方はロボット以外にも使えるのでは？
<br/>
　ロボットが対象だからこういう特別性があるっていうのを教えていただきたい
<br/>

<br/>
<回答>
<br/>
　私自身はロボット以外で使われている例は分からない
<br/>
　ROS1は使われているけどそこまでではない
<br/>
　IoT系にはあまり向いていないから、でもROS２は割と使われているらしい
<br/>
　先日インテルがIoT用の推進例を作ったらしいけど名前は忘れました
<br/>
　ROS2用のDDPSを作った
<br/>
　インテルのような大きな会社でもROS2はロボット以外でも使えると考えている
<br/>
　私はこれから分散組み込みシステムに利用されると考えている
<br/>

<br/>
・安積(埼玉大学)
<br/>
　ROS2の対故障性で保障されているものはありますか？
<br/>

<br/>
<回答>
<br/>
　あります
<br/>
　まだ開発中だが6月にリリースしたバージョンではイベント管理の考えを取り入れ
<br/>
　ノードが落ちた時にイベントがどう来るかを作成できるので非常にやりやすくなる
<br/>
　ROS2ではノード落ちるだけでなく様々なイベントに対応できるようになるので
<br/>
　非常に管理しやすいシステムになります
<br/>
　将来はGUIで管理できるようになるだろう
<br/>

<br/>

<br/>
・質問者（匿名）
<br/>
　ROS2でやり残したことまだできていなことはありますか？
<br/>

<br/>
<回答>
<br/>
　まだ色々ある
<br/>
　ROS1には様々な機能があり、それを１からやり直しているので
<br/>
　どこまでできるかという話
<br/>
　今ROS2はROS1と結構似てるぐらいの機能はできているが、ROS1のアクション（機能）
<br/>
　がROS2では全く（実装されてい）ない、やり始めているので次には入ると思う
<br/>
　Rvizで可視化できるデータが少ない、インフラの方は結構できている
<br/>

<br/>

<br/>
・菅谷(芝浦工大)
<br/>
<質問1>
<br/>
　ROS2の中リアルタイム性が保障されているプロトコルのバラエティを教えてほしい
<br/>

<br/>
<回答１>
<br/>
　基本的にはDDSがメインでサポートされている
<br/>
　他のプロトコルも他の方がサポートを出している
<br/>
　インテルのIOTも今週から正式にサポートされるようになった
<br/>
　みんなDDSを使っているし信頼性の問題もない
<br/>

<br/>
<質問２>
<br/>
　プロトコルの場合ではTCP/UDPに置き換えられるのかそれとも上にあるのか
<br/>

<br/>
<回答２>
<br/>
　それはプロトコル次第
<br/>
　DDSは実装次第がほとんどは上で実装されている
<br/>

<br/>

<br/>
■まとめ
<br/>
最初にロボットやROSについて詳しくない人ためにロボットソフトウェアについての紹介
<br/>
を行った。そして現在公開されているROS1の紹介をしてから本講演のメインテーマであ
<br/>
るROS2の紹介をした。
<br/>
既存のROS1での問題点を述べ新たに開発されたROS2では既存の問題が解決されているこ
<br/>
とを紹介した。そして最後に現在開発中のROS2がどのような目的を達成するために開発
<br/>
が続けられているかを述べた。
<br/>

<br/>
</p></body>
