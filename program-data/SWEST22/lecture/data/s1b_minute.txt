**********************************************************************
セッション：s1b
テーマ　　：IoT/自動運転システム時代のシミュレーション環境『箱庭』について語り合おう
講師　　　：森 崇　株永和システムマネジメント
　　　　　　高瀬 英希　京都大学／JSTさきがけ
日時　　　：2020/08/20(木) 19:30～21:00
参加人数　：23名
**********************************************************************


■セッション概要
組込み開発はIoT/自動運転システム時代に入り，様々な機器が絡んだ複雑なシステムと向き合う必要がある．
TOPPERSプロジェクトでは，このようなシステムを手軽にシミュレーションできる仮想環境である『箱庭』の
構築に取り組んでいる．

本セッションでは，『箱庭』で掲げるコンセプトとこれを実証するために開発しているプロトタイプ・モデルを
紹介. その後，「箱庭をどう使う？」をテーマにしたアイディア出しや，「箱庭がどうなると嬉しい？」に
ついてディスカッションする. 

参考URL: https://toppers.github.io/hakoniwa/
・TOPPERSプロジェクトのワーキンググループの一つ


■箱庭ワーキンググループ活動紹介：高瀬先生

〇箱庭とは、以下の環境を組み合わせることで実現するIoT/自動運転時代の仮想シミュレーション環境
  - 組込みマイコンシミュレーション：Athrill
  - 組込みマイコン向けROS １ノード実行環境：mROS
  - リアルタイム３D開発環境：Unity
  - 分散ロボット/IoT向け ネットワークフレームワーク
  - TOPPERSカーネル
  
〇解きたい課題
  IoTシステム構築には様々な分野の技術領域を横断している。
   ex. 自動運転システムではIT系エンジニア、制御系エンジニア、ET系エンジニアなど
  
  - 問題発生経路の複雑化
  - 原因調査の複雑化
  - 実証実験のコスト増

〇箱庭コンセプト
     仮想環境上(箱庭)でIoT/自動運転システムを開発する

〇ターゲットシステム
   IoTのような複雑なシステム
    様々な機器がネットワーク上で接続されたシステム
〇箱庭の利用者
    システム開発者
    サービス提供者
    箱庭アセット開発者/提供者
     アセット：システム構成要素
〇独自性
   IoTの各要素を連携させて任意の精度で検証可能
   検証対象/抽象度/レベルを任意に変更できる

〇目標
   複雑なIoTシステムを開発/提供する技術者のためのシミュレーション環境とエコシステムを構築

〇活動ロードマップ
    現在は箱庭プロトタイプ開発中

■最新の箱庭の動向：森先生
1. 箱庭プロトタイプ・モデルの紹介
  〇箱庭コンセプト
     箱庭コア：箱庭固有のシミュレーション技術をコア技術化
     箱庭アセット・サービス：シミュレーション内の登場物を箱庭アセット化し、アセット数拡充を目指す
     既存サードパーティで出来ていることは積極的に利用

    -> 実現手段は検討中
 
  〇箱庭プロトタイプモデル
     A. 単体ロボット(ETロボコン)向けシミュレータ
         -> 物理シミュレータとマイコンシミュレータ間の連携方法の検討
            異なるシミュレータ間の時間同期の検討
     B. ROS・マルチECU向けシミュレータ
         -> マルチECU/FPGA/GPU間の連携方法検討
            箱庭アセット間の通信可視化方法の検討
            クラウドIDEとエミュレータを利用した実機レス開発環境
     C. ロボット間協調動作向けシミュレータ
         -> クラウド連携方法
            ロボット間の連携方法検討


2. 箱庭ビジネス・エコシステムの紹介
  〇箱庭ビジネス・エコシステムの具体例
     ロボット教育サービス
     AUTOSAR教育
     IoTデバイス仮想化
  

■グループディスカッション
  〇箱庭について語り合おう
    プロトタイプモデルを３つ作ったが現場で役立つか不明. 現場視点で困っていることを議論して
    箱庭が使えるかどうか、不足していることを議論してほしい。

  ＜ブレイクアウトセッション＞

   (議論の経緯や意見などを一部抜粋)
   - 組込み教育で機材を用意するのが大変、準備コストを減らすことに利用できないか
   - お客からの要求が未定だと仕様が決まらない, お客の要求を過剰に予想してしまうことがある。
     箱庭のコンセプトでは自身(開発対象)以外の仕様は決まっているため, 誤解が発生しない?
   - ROSのリアルタイム性担保のために使えないか(テスト環境)
   - 複数ロボットでの同期シミュレーションができない
   - 実世界でのデバッグではROM、RAM量に制限がある(スペック不足). 箱庭ではROM, RAM量に
     制限がないのでうまく使えないか？

  森先生コメント
   - コミュニケーションギャップ解消
   - 実機の問題解決
