**********************************************************************
セッション：s4b
テーマ　　：二輪車情報学超入門
講師　　　：木谷友哉　静岡大学
　　　　　　曽根 卓朗 静岡大学/株式会社アプリックス
日時　　　：2021/08/21(金) 13:40～14:50
参加人数　：32名
**********************************************************************


■概要
本セッションは，以下に沿って聴講者と頭と手を動かす企画．

・【研究サーベイ】世界の二輪車研究の今
・ポストコロナ時代のモビリティ事情ディスカッション
・Bikeinformaticsセンシング基盤チュートリアル

自転車，バイク乗りも，モビリティ好きも，そうでない人も未来の多様な交通社会を
どう安全に楽しくするかディスカッションする. こなれた組込み技術や
センシング技術を使って低コストで確実にデータを取得できるようにするところと，
最先端の技術を使って新しい価値を作るところの二つの観点から議論する．



■ハンズオン環境
mosquittoクライアントのインストール
mosquitto_sub/mosquitto_pub

■二輪車情報学超入門 二輪車情報学とは：木谷先生

〇研究テーマ
 - 二輪車を究極のパーソナルもビリティとみなしてライダーの、ライダーによる、
   ライダーによる、ライダーにためだけでない二輪車・運転する人間・交通環境
   のセンシング基盤の構築

 - 高精度衛星測位を二輪車の計測手段として利用


〇課題
  交通渋滞：国内でも年間12兆円の経済損失
  二輪車の主要市場の新興国で二輪車から四輪車のモーダルシフト
  適材適所のモビリティの配置の重要性

〇目標：二輪車(とそのセンシングデータ)が変える未来の交通
  - 二輪車の車体運動の理解への挑戦
  - 人間の身体運動の理解への挑戦
　
  ☆身体能力の延長としてパーソナルビークルが活躍する社会を創出したい
    そのためのデータ収集・活用基盤を構築

〇”使える”データを得るために
　- 後でのデータ処理を考えて”正しく”データを集める
     データ間の関連、付加情報(ID・位置・時刻等)が重要
     当然、データの精度はできるだけ高い方がいい
　   ビッグデータよりリッチデータ
  - 付加情報（位置、時刻）の精度を上げよう！

〇高精度測位
　- 国内を網羅する国土地理院の電子基準点網
     ここからのデータで国内広い範囲で杵マティクス測位可能
　   測量向け後処演算用

  - 民間高精度測位サービスプラットフォーム
　　　2019年：国内通信大手による補正情報配信インフラの指揮設および
     サービスの提供開始. 
   　　
　センチメータオーダーで測位できる！




■Bikeinfomaticsセンシング基盤チュートリアル：曽根先生
〇Bikeinfomaticssセンシング基盤とは？
　二輪車（パーソナルモビリティ）に関連する情報を網羅的に収集、
　蓄積、可能（、利用）するための情報処理基盤

　Bikeinfomaticssセンシング基盤
　　|- ライダー情報
    |- 車両情報
    |- サイバー空間情報...ネットワーク上の情報
    |- 環境情報...路面など


〇BKIセンシングシステム
　　|- HeadCAM
    |- FrontCAM
　　|- Logger3... LiDAR
    |- GNSS.... 位置
    |- IMU1/Sensor... 加速、ジャイロ、
    |- CAN
    |- IMU2/Sensor
    |- TailCAM
    |- Biometoric Logger...身体情報

〇作成アプリのイメージ
　　SmartRiding(ヤマハ発動機)
　 　携帯電話にアプリをいれて道を走ると運転を評価してくれる
     コーナリングの点数など


〇BKIセンシング基盤アーキテクチャ
　　構成するDevice(GNSSやIMUなど)がMQTTのtopicsを出力
    各デバイスは自分自身のステータスを出力(JSON)すると同時にセンサリングした
    情報を保存する.
    1個1個のモジュールは現在のステータスを表すメタ情報とデバイス固有の情報を
    MQTTのtopicsに対応させる
    -> MQTTのtopicsを分析するとある時刻のデバイスの状態とセンサー情報を追跡できる
　　　 ただし、帯域の問題があるのですべてをMQTTに出力するのではなくSDファイルに保存

〇開発環境
　　ArduinoIDE + Emacs


〇テスト結果(GoogleMapでの可視化)
   - 山のなかでは電波がないのでログできない
　　　-> SDカードの記録で保管
　 - 通信帯域の制限があるので1secで記録
　　　-> コーナーの記録ががたつく
　　　　　-> MQTTの記録ではほぼｃｍオーダーで記録できていた
　 - Googleマップとロガーの記録とを突き合わせているが、Googleマップがずれて
　 　いることもある.   
　 - 車体の振動によりSDカードのトラブル発生


〇BKIサーバを使ってたデモ
　　前述したテスト結果用いたデモ
　　　- ログの取得/記録方法

〇Software Defined Media
    - ソフトウェアで様々なメディアを扱えるようにする
　　- メディアの収録、加工、再生する仕組み(システム)を
　　- 課題：データ表現をどう保存するか？
　　　　　　アプリケーションをどう作るか？
  　　-> SDM ontologyを設計中

〇今後の展開
　　- 現状システムの不具合回収
　　- RPZero　Wifi router導入
　　- デバイスバリエーション(映像・音声記録)
　　- スキル獲得/募集(PCB設計、3Dモデル設計、クラウドサービス利用)



〇Q&A
 　Q1. IMUなどをとめているテープはアルミのテープ、またはダクトテープですか？
   A1. おもにガムテープ. 
　　　 梱包用のフィルム（サランラップのようなフィルム）が防水で便利. 

 　Q2. バイク自身の情報(速度やアクセル開度など)は取得できますか？
   A2. CANや、k-Line(独自の通信線)などから取得できる. 10年以上前のバイクでは難しい
　　　https://assets.vector.com/cms/content/know-how/_technical-articles/K_Line_AutomotiveEETimesEurope_201505_PressArticle_JP.pdf

   Q3. バイクにつけられる消費電力はいくらまでか？　原付にもつけられるか？
   A3. 今回の仕組みではGPS 1W, 100mAくらい. 他で3Wくらい.
       ヘッドライトが30-60Wいくので微々たるもの. 常時ONだとバッテリーが上がるかも
  
   Q4. FI化のタイミングがCAN実装のタイミングか？
   A4. もっと最近
　　
