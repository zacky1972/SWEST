<!DOCTYPE html><head><meta charset="UTF-8"><title>s4d_minute</title></head><body><p>
**********************************************************************
<br/>
セッションs4d
<br/>
テーマ：キーボードを自作しよう、エンジニアとして成長するために
<br/>
講師：石田 晴幸
<br/>
日時：2018/8/31 11:30～12:20
<br/>
参加人数：22名
<br/>
**********************************************************************
<br/>

<br/>
背景
<br/>
パーソナル・ファブリケーション環境の充実
<br/>
	例）
<br/>
	・３Dプリンタやレーザーカッター
<br/>
	・フリーで使えるCAD
<br/>
	ー＞ 自分で思い描いた組込みシステムを
<br/>
		そこそこのコストで実現できるようになった。
<br/>

<br/>
目的
<br/>
・ソフト技術者のエレキ・ハードの世界へ踏み出す一歩の提案
<br/>
	ー＞ハード先行のソフトウェア設計ではなく、
<br/>
		自分たちで考えていけるようになる
<br/>
・キーボードを自作するための基本的な技術の習得
<br/>

<br/>
キーボード作成に至った経緯
<br/>
	・肩がこる
<br/>
	・打ち間違え
<br/>
	・キーボードを超える入力機器がでてこない
<br/>
	ー＞自分でDevOpsみたいに運用しながら改善してみようとなった
<br/>

<br/>
キーボードの例
<br/>
・Arduinoのスケッチ
<br/>
	-----------------------------------------------
<br/>
	const uint8_t PIN_BUTTON = 15;
<br/>
	int btnStat;
<br/>
	void setup(){
<br/>
	Keyboard.begin();
<br/>
	pinMode(PIN_BUTTON, INPUT_PULLUP);
<br/>
	btnStat = HIGH;
<br/>
	}
<br/>
	void loop(){
<br/>
	int lastStat = btnStat;
<br/>
	btnStat = digitalRead(PIN_BUTTON);
<br/>
	// ボタンが押下から放された瞬間
<br/>
	if ((lastStat == LOW) && (btnStat != LOW)){
<br/>
	Keyboard.print("Hello");
<br/>
	}
<br/>
	}
<br/>
	-----------------------------------------------
<br/>

<br/>
・AVRマイコン ATmega32U4
<br/>
	1 コア8ビットAVR
<br/>
	2 フラッシュ32Kbyte
<br/>
	3 SRAM 2.5Kbyte
<br/>
	4 EEPROM 1Kbyte
<br/>
	5 USB対応USB仕様改訂2.0(Universal Serial Bus
<br/>
	Specification Rev 2.0)完全適合
<br/>
	6 動作電圧2.7～5.5V
<br/>
	7 最大速度8MHz/2.7V, 16MHz/4.5V
<br/>

<br/>
・マイコンによる入力ピンのプルアップ
<br/>
・Arduino開発環境を用いてファームのビルドと装置への書き込み
<br/>

<br/>

<br/>

<br/>
キーボードの設計
<br/>
・フルかコンパクトか
<br/>
　・６０％設計にしてコンパクトにする、テンキーをなくす
<br/>
・キースイッチの配置
<br/>
・一体化型か分離型か
<br/>
・キー配列をどうするか
<br/>
	1 QWERTY 
<br/>
		タイプライターからつづく伝統あるレイアウト。
<br/>
	2 Dvorak 
<br/>
		英文の文字の出現頻度と相関性から設計。
<br/>
		母音を左手ホーム行に集約、
<br/>
		左右交互打鍵による高速入力を狙う。
<br/>
		1943年に発表された。
<br/>
	3 Colemak QWERTYから17キーを変更。
<br/>
		頻度の高い文字をホーム行に集約。
<br/>
		AZXCVなど良く使う編集用キーは変更なし。
<br/>
		2006年に発表された。
<br/>
	4 Minimak 
<br/>
		QWERTYから段階的に移行できる。
<br/>
		最小の変更で最大の利益を狙う。
<br/>

<br/>
問題
<br/>
	１．マウスが遠いと肩がこる
<br/>
	２．手首に角度をつけると肩や腕が疲れる
<br/>
	３．小指を酷使すると前腕が疲れる
<br/>

<br/>
考え方
<br/>
	１．マウスを近くにする
<br/>
		・テンキーレスでマウスをホームポジションの近くに置く
<br/>
		・カーソルキーなどはレイヤキーとの同時押しで、ホームポジションのまま
<br/>
		  使えるようにする。
<br/>
	２．手首の角度を改善する
<br/>
		・分割キーボードを用いて、手首の角度をなくす
<br/>
	３．モディファイキーは親指で操作できるようにする
<br/>

<br/>
施策
<br/>
	現在、石田さんが用いているキーボードは分離型でマウスをキーボードの間に置く
<br/>

<br/>
キーボードを自作するための技術
<br/>
	エレキ技術
<br/>
	・スイッチマトリックス：１００個のスイッチを２０本のピンで設計
<br/>
	・PCB
<br/>

<br/>
	ハード技術
<br/>
	・スイッチ：使用感・作動力
<br/>
	・キーキャップ：DCS/DCS/SA・材質・加工法
<br/>
	・ケース：アクリル板・３Dプリント
<br/>

<br/>
	ソフト技術
<br/>
	・qmk_firmware
<br/>
	・マトリックススキャン
<br/>
	・キーマップ
<br/>
	・アクション：キーを押されたとき、キーボード内の状態を変え特殊な動作をする
<br/>
	・USB通信
<br/>

<br/>

<br/>
□質疑応答
<br/>
Q:キーボードははんだ付けして作成している？
<br/>
A:はんだ付けしている。全部で１時間程度でできる。
<br/>

<br/>
Q:キーボードを立体的（曲げる）のはむずかしい？
<br/>
A:設計は大変だが、意外と簡単にできる。
<br/>

<br/>
Q:同時に２０小スイッチを押したときの設定は？
<br/>
A:ファームウェアで設定可能
<br/>

<br/>

<br/>
■まとめ
<br/>
・自作キーボードのとりかかりは簡単
<br/>
・情報はネットに散在している
<br/>
・コミュニティも活発
<br/>
　ー＞日々使うものを自分で改善し、新しいものへのチャレンジをしよう！
<br/>
</p></body>
