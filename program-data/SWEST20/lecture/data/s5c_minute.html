<!DOCTYPE html><head><meta charset="UTF-8"><title>s5c_minute</title></head><body><p>
**********************************************************************
<br/>
ワーク S5-c
<br/>
テーマ：高位合成／FPGA活用技術の最前線
<br/>
講師：青木 海（sigboost株式会社）, 照屋 大地（東京農工大学）
<br/>
コーディネータ：山本 諒太
<br/>
日時：2018/8/31 13:00～14:10
<br/>
参加人数：26名
<br/>
**********************************************************************
<br/>

<br/>
13:00 開始
<br/>
○イントロダクション
<br/>
青木さん自己紹介
<br/>
	駆け出しテックベンチャー．
<br/>
	sigboostとは電子楽器かつFPGA高位合成処理．
<br/>
	プログマブルな電子楽器
<br/>

<br/>
照屋さん自己紹介
<br/>

<br/>
○照屋さんプレゼン
<br/>
FPGA:LSIだが論理回路を自由に組み替え可能
<br/>
FPGAとマイコンを組み合わせる．面倒
<br/>
	⇒Rubyのみで書きたい（Mulveryプロジェクト）
<br/>

<br/>
回路設計の知識不要かつハード化対象を自動で抽出できるようにする
<br/>

<br/>
FPGAを使うために
<br/>
	課題1：幅広い知識が必要
<br/>
		高位合成：CやJavaの高級言語をレジスタ転送レベル設計に変換する技術
<br/>
	課題2：動作記述≠構造記述
<br/>
		⇒HW技術者による最適化が必要になる
<br/>

<br/>
	Rubyを書いてFPGAをただのHW程度にしか思わずいろいろな
<br/>
	デバイスを使えるようにしたい
<br/>

<br/>
・環境紹介
<br/>
	Zynqberry：マイコン＋FPGAなRaspberry Pi互換ボード
<br/>
	PYNQ：PythonでFPGAを便利に使う
<br/>

<br/>
・Mulveryのアプローチ
<br/>
	Reactive Programming(RP)※を用いたプログラムからの合成
<br/>
	※データストリームをオブジェクトとして扱う
<br/>
	RPの例を図とともに説明
<br/>

<br/>
・Scheduler
<br/>
	動作スレッドを制御するための仕組み
<br/>

<br/>
・SchedulerとHW合成アイデア
<br/>
	動作スケジューリングを制御すればそのままデータフローグラフとして扱えそう
<br/>

<br/>
・動的解析による実装
<br/>
	多段階計算を使った動的解析．
<br/>
	フレームワークとして提供するので通常のRubyで合成も実行も全部できる
<br/>

<br/>
・Schedulerの合成
<br/>
	複数のスレッドを同時にキックするところがうまくいっていない
<br/>

<br/>
・デバイスコントローラとしての活用
<br/>
	1024個のフルカラーLEDを制御
<br/>

<br/>
●質疑応答●
<br/>
	Q.ハードもソフトにもならないマップというが，
<br/>
		どうやってコンパイラが見つけるのか
<br/>
	A．コンパイラではない．動的型付けを実行している．
<br/>
	　型で何がくるかを調べながら動作している
<br/>

<br/>
	Q.FPGA側で数値扱うときにビット長がいろいろほしくなったりする．
<br/>
	A.FPGA独特な数値型は先頭で書き換えているだけ．難しくない
<br/>

<br/>

<br/>
○青木さんプレゼン
<br/>
	プログラマブルな電子楽器
<br/>

<br/>
Maxというソフトウェア
<br/>
	問題：最大発音数の問題．レイテンシのばらつきがある．落ちる
<br/>

<br/>
Maxの信号処理をFPGA上の回路へ変換する．
<br/>
回路情報はマイクロSDに保存する
<br/>

<br/>
Sigboostの構成
<br/>
Zynq-7010(ARM +FPGA)を使う
<br/>

<br/>

<br/>
・HLS&FPGA勘所
<br/>
	ソフト屋がHDLを簡単に書ける環境は現状ない
<br/>
	FPGA化する必要がある部分だけFPGA化する
<br/>
	FPGAのターゲット領域
<br/>

<br/>
・midiglue
<br/>
	FPGAを使わない安価なプログラマブルな電子楽器
<br/>

<br/>
実演
<br/>

<br/>
●質疑応答●
<br/>
	Q.web editorにしないのはなぜか
<br/>
	A.1カ月で作るという目標をたてたため．マーケットサーベイであるため
<br/>
	デバイスの書き込みなのでそこそこ大変であるため
<br/>

<br/>
	Q.言語は自分で作ったものか
<br/>
	A.*.nodeは自分たちの機構である
<br/>

<br/>
	Q.FPGAで早くコンパイルを終わらせたい．使う部分が分けられれば，
<br/>
	　コンパイルが早くなるのでは？
<br/>
	A.キャッチアップはしている．今後採用する可能性がある
<br/>

<br/>
■まとめ
<br/>
　FPGAを実装するのは苦労を伴うが，MulveryのようなRubyのみで開発できるようにする
<br/>
　手法やSigboostのようにFPGAを活かしたプログラマブルな電子楽器など様々なアプロ
<br/>
　ーチが行われている．
<br/>

<br/>
以上．
<br/>
</p></body>
